{"version":3,"sources":["webpack:///src/views/dataprovide/proportion.vue","webpack:///./src/views/dataprovide/proportion.vue?abf4","webpack:///./src/views/dataprovide/proportion.vue"],"names":["proportion","name","components","popupBox","popup","data","search","size","page","list","totalPage","totalCount","num","city","cityvalue","cityAllVal","model","modelvalue","corp","corpid","prjid","prjid_local","teamData","cityData","areaId","cityId","modelId","modelData","options","projData","csvS","dataId","isCorpContainAll","popup_show","created","this","JSON","parse","localStorage","getItem","slice","id","memo","getProportionList","watch","handler","len","length","arr","i","push","indexOf","obj","value","methods","change_data","index","changeStaff","_this","filter","item","changePrjid","getArea","dialog_batch","type","save","$refs","getDataName","complete","join","submit","_this2","params","mid","cid","area","ajax","request","method","url","headers","Content-Type","transformRequest","lib_default","a","stringify","then","res","code","$message","message","catch","error","console","log","querySearch","queryString","cb","handleSelect","_this3","Object","api","_this4","matchCity","matchModel","_this5","_this6","dataFilter","val","dataprovide_proportion","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","staticStyle","width","on","change","$event","callback","$$v","expression","_l","key","attrs","label","_s","pmemo","directives","rawName","domProps","input","target","composing","placeholder","readonly","nativeOn","click","filterable","filter-method","visible","update:visible","ref","dataList","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.30343d88b53c8b137a4c.js","sourcesContent":["<template>\r\n  <div class=\"main rule-group\">\r\n    <div class=\"main-edit\">\r\n      <div class=\"edit-title\">\r\n        <h6><span></span>账号基本信息</h6>\r\n      </div>\r\n      <div class=\"edit-box\">\r\n        <div class=\"box-info\">\r\n          <div class=\"info-item\">\r\n            <span class=\"item-left\">外呼团队</span>\r\n            <span class=\"item-right\">\r\n              <el-select style=\"width:220px;\" v-model=\"corpid\" @change=\"changeStaff()\">\r\n                  <template v-for=\"item in teamData\">\r\n                      <el-option :label=\"item.memo\" :value=\"item.id\"  :key=\"item.memo\">{{item.memo}}</el-option>\r\n                  </template>\r\n              </el-select>\r\n            </span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"item-left\">外呼项目</span>\r\n            <span class=\"item-right\">\r\n              <el-select style=\"width:220px;\" v-model=\"prjid\" @change='changePrjid'>\r\n                  <template v-for=\"item in projData\">\r\n                      <el-option :label=\"item.pmemo\" :value=\"item.id\"  :key=\"item.id\">{{item.pmemo}}</el-option>\r\n                  </template>\r\n              </el-select>\r\n            </span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"item-left\">数量</span>\r\n            <span class=\"item-right\">\r\n              <template>\r\n                <input style=\"width:220px;\" type=\"Number\" v-model=\"num\" class=\"txt-common\" />\r\n              </template>\r\n            </span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"item-left\">数据归属地</span>\r\n            <span class=\"item-right\">\r\n              <template>\r\n                <el-input style=\"width:372px;\" placeholder=\"点击选择\" readonly v-model=\"city\" @click.native=\"dialog_batch('city')\"></el-input>\r\n              </template>\r\n            </span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <span class=\"item-left\">模型</span>\r\n            <span class=\"item-right\">\r\n                <!-- <el-autocomplete style=\"width:372px;\" class=\"inline-input\" v-model=\"model\" trigger-on-focus :fetch-suggestions=\"querySearch\" @select=\"handleSelect\" placeholder=\"点击搜索\"></el-autocomplete> -->\r\n                <el-select style=\"width:372px;\" v-model=\"model\" placeholder=\"请选择\" filterable :filter-method=\"dataFilter\">\r\n                  <template>\r\n                    <el-option v-for=\"item in options\" :key=\"item.id\" :label=\"item.memo\" :value=\"item.id\" />\r\n                  </template>\r\n                </el-select>\r\n              \r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"edit-btn-list\">\r\n        <button type=\"button\" class=\"btn-submit\" @click=\"submit\">提交</button>\r\n      </div>\r\n      <el-dialog :visible.sync=\"popup_show\">\r\n        <popup-box :dataList='cityId' :dataId = 'dataId' ref=\"getDataName\"></popup-box>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"popup_show=false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pager from '@/components/pager'\r\nimport popupBox from '@/components/popup'\r\nimport {get_datacmemo, get_area, get_city, get_model} from '@/api/index'\r\nimport ajax from '@/config/ajax'\r\nimport Qs from 'qs'\r\nexport default {\r\n  name: 'proportion',\r\n  components:{popupBox},\r\n  data () {\r\n    return {\r\n      search: {\r\n        size: 10, // 每页显示条数\r\n        page: 1 // 页码\r\n      },\r\n      list: {\r\n        data: [], // 数据集\r\n        totalPage: 0, // 总页数\r\n        totalCount: 0, // 总条数\r\n      },\r\n      num: '8000',  //数量\r\n      city: '所有' ,   //城市\r\n      cityvalue: '',    //城市id\r\n      cityAllVal: '',     //所有城市id\r\n      model: '', //模型\r\n      modelvalue: '',  //模型id\r\n      corp: \"\",   //外呼团队\r\n      corpid: \"\",  //外呼团队id\r\n      prjid: '',  //项目id\r\n      prjid_local: '',  \r\n      teamData: [],         //外呼团队字典数组\r\n      cityData: [],  //城市字典数组\r\n      areaId: [],     //根据项目id获取城市id\r\n      cityId: [],    //匹配完的数组\r\n      modelId: [],    //从城市字典数组\r\n      modelData: [], //数据批次字典数组  \r\n      options: [],  \r\n      projData: [],  //外呼项目字典树组\r\n      csvS: [],  \r\n      dataId: \"3\",    //数据批次、省份、城市数据id分别\r\n      isCorpContainAll: true,  //外呼团队是否选中全选 \r\n      popup_show: false\r\n    }\r\n  },\r\n  created () {\r\n    this.teamData = JSON.parse(localStorage.getItem(\"cropid\"));\r\n    this.cityData = JSON.parse(localStorage.getItem(\"city\"));\r\n    this.modelData = JSON.parse(localStorage.getItem(\"model\"));\r\n    this.options = this.modelData;\r\n    this.teamData = this.teamData.slice(1);\r\n    this.corpid = this.teamData[0].id;\r\n    this.corp = this.teamData[0].memo;\r\n    this.model = this.modelData[0].id;\r\n    this.getProportionList()\r\n  },\r\n  watch: {\r\n    'model': {\r\n      handler: function() {\r\n        this.csvS = [];//这是定义好的用于存放下拉提醒框中数据的数组\r\n          var len = this.modelData.length;//csvList是页面初始化时得到的初始全部数据\r\n          var arr = [];\r\n          for (var i = 0; i < len; i++) {//根据输入框中inputName的值进行模糊匹配\r\n            if(this.model == 'undefined'){\r\n              arr.push(this.modelData[i]);\r\n            }else{\r\n              if (this.modelData[i].memo.indexOf(this.model) >= 0) {\r\n                arr.push(this.modelData[i]);//符合条件的值都放入arr中\r\n              }\r\n            }\r\n            \r\n          }\r\n          //el-autocomplete元素要求数组内是对象，且有value属性，此处做一个格式调整\r\n          for (var i = 0; i < arr.length; i++) {\r\n            var obj = { value: \"\" , id: ''};\r\n            obj.value = arr[i].memo;\r\n            obj.id = arr[i].id;\r\n            this.csvS.push(obj);\r\n          }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 分页\r\n    change_data (index, size) {\r\n      this.list.page = index;\r\n      this.list.size = size\r\n    },\r\n    changeStaff(value){\r\n      this.corp = this.teamData.filter(item => item.id === this.corpid)[0].memo;\r\n      this.getProportionList();\r\n    },\r\n    changePrjid(){\r\n      this.getArea();\r\n    },\r\n    dialog_batch(type){\r\n      this.popup_show = true;\r\n    },\r\n    save() {\r\n      this.popup_show = false;\r\n      if(this.$refs.getDataName.complete()[0] != ''){\r\n        this.city = this.$refs.getDataName.complete()[0].join(\",\");\r\n        this.cityvalue = this.$refs.getDataName.complete()[1].join(\",\");\r\n      }else{\r\n        this.city = \"所有\";\r\n        this.cityvalue = this.cityAllVal;\r\n      }\r\n      \r\n    },\r\n    submit(){\r\n      var params = {\r\n        mid:this.model,\r\n        cid:this.corpid,\r\n        num: this.num,\r\n        area: this.cityvalue,\r\n        prjid: this.prjid\r\n      }\r\n      return ajax.request({\r\n        method:'post',\r\n        url:'provide',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        transformRequest: [function(params) {      //在请求之前对data传参进行格式转换\r\n          params = Qs.stringify(params)\r\n          return params\r\n        }],\r\n        data:params\r\n      }).then((res)=>{\r\n        if(res.code == '200'){\r\n          this.$message({\r\n            type: 'success',\r\n            message: '提交成功'\r\n          })\r\n        }\r\n      }).catch((error)=>{\r\n        console.log(error)\r\n      })\r\n    },\r\n    querySearch(queryString, cb) {\r\n      var csvS = this.csvS;\r\n      cb(csvS);\r\n    },\r\n    handleSelect(item){\r\n      this.modelvalue = item.id;\r\n    },\r\n    // 获取项目id等\r\n    getProportionList () {\r\n      var params = {\r\n          cmemo: this.corp\r\n        }\r\n        get_datacmemo(this.corp, \"pmemo/cmemo\").then((res) => {\r\n          if(res.code == '200'){\r\n            this.projData = res.data.list;\r\n            this.prjid = this.projData[0].id;\r\n            this.prjid_local = this.projData[0].prjid_local;\r\n            this.getArea();\r\n          }\r\n        }).catch(error => {\r\n          console.log(error);\r\n        })\r\n    },\r\n    //获取地域级模型\r\n    getArea(){\r\n      get_area(this.prjid_local).then((res) => {\r\n        if(res.code == '200'){\r\n          if(res.data.area != 'ex'){\r\n            this.areaId = res.data.area;\r\n            this.city = \"所有\";\r\n            this.cityvalue = res.data.area.join(\",\");\r\n            this.cityAllVal = res.data.area.join(\",\")\r\n            this.matchCity();\r\n          }else{\r\n            this.cityvalue = 'ex';\r\n            this.cityAllVal = 'ex';\r\n            get_city();\r\n            this.cityId = JSON.parse(localStorage.getItem(\"city\"));\r\n          }\r\n          if(res.data.model != ''){\r\n            console.log(\"------prm-----\")\r\n            this.modelId = res.data.model;\r\n            this.matchModel();\r\n            this.model = this.modelData[0].id;\r\n          }else{\r\n            get_model();\r\n            this.options = JSON.parse(localStorage.getItem(\"model\"));\r\n            if(this.modelData[0].id == '0'){\r\n              this.model = this.modelData[1].id;\r\n            }else{\r\n              this.model = this.modelData[0].id;\r\n            }\r\n          }\r\n        }\r\n      }).catch(error => {\r\n\r\n      })\r\n    },\r\n    //匹配城市id\r\n    matchCity(){\r\n      this.cityId = [];\r\n      for(var i=0;i<this.areaId.length;i++){\r\n        var obj = new Object();\r\n        obj.id = this.cityData.filter(item => item.id === this.areaId[i])[0].id;\r\n        obj.memo = this.cityData.filter(item => item.id === this.areaId[i])[0].memo;\r\n        this.cityId.push(obj);\r\n      }\r\n    },\r\n    //匹配模型\r\n    matchModel(){\r\n      this.options = [];\r\n      var obj = new Object();\r\n      obj.id = this.modelData.filter(item => item.id === this.modelId[i])[0].id;\r\n      obj.memo = this.modelData.filter(item => item.id === this.modelId[i])[0].memo;\r\n      this.options.push(obj);\r\n    },\r\n    dataFilter(val){\r\n      if(this.model){\r\n        this.options = this.modelData.filter((item) => {\r\n          if (!!~item.memo.indexOf(val)) {\r\n            return true\r\n          }\r\n        })\r\n      }else{\r\n        this.options = this.modelData;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  @import '../../assets/css/pages/main.css';\r\n  .rule-group{\r\n    padding-left: 15px;\r\n  }\r\n  .rule-group .main-table table{\r\n    margin-bottom: 30px;\r\n  }\r\n  .main-edit .edit-box{\r\n    margin-top:30px;\r\n  }\r\n  .main-edit .info-item .item-left{\r\n    width:12%;\r\n    color:#333\r\n  }\r\n  .main-edit .info-item .item-right input{\r\n    color:#333!important;\r\n  }\r\n  .main-edit .info-item .item-right select{\r\n    color:#333!important;\r\n  }\r\n  .el-input__inner{\r\n    height:34px!important;\r\n    line-height:34px!important;\r\n  }\r\n  .el-select-dropdown__wrap ul li{\r\n    padding-left:20px!important;\r\n    display:block;\r\n  }\r\n  .main-edit .info-item{\r\n    margin-bottom:30px;\r\n  }\r\n  .main-edit .edit-btn-list{\r\n    border-top:none;\r\n  }\r\n  .edit-btn-list .btn-submit{\r\n    margin-top:30px;\r\n    margin-left:-300px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/dataprovide/proportion.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main rule-group\"},[_c('div',{staticClass:\"main-edit\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"edit-box\"},[_c('div',{staticClass:\"box-info\"},[_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"外呼团队\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"220px\"},on:{\"change\":function($event){return _vm.changeStaff()}},model:{value:(_vm.corpid),callback:function ($$v) {_vm.corpid=$$v},expression:\"corpid\"}},[_vm._l((_vm.teamData),function(item){return [_c('el-option',{key:item.memo,attrs:{\"label\":item.memo,\"value\":item.id}},[_vm._v(_vm._s(item.memo))])]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"外呼项目\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"220px\"},on:{\"change\":_vm.changePrjid},model:{value:(_vm.prjid),callback:function ($$v) {_vm.prjid=$$v},expression:\"prjid\"}},[_vm._l((_vm.projData),function(item){return [_c('el-option',{key:item.id,attrs:{\"label\":item.pmemo,\"value\":item.id}},[_vm._v(_vm._s(item.pmemo))])]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"数量\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.num),expression:\"num\"}],staticClass:\"txt-common\",staticStyle:{\"width\":\"220px\"},attrs:{\"type\":\"Number\"},domProps:{\"value\":(_vm.num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.num=$event.target.value}}})]],2)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"数据归属地\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[[_c('el-input',{staticStyle:{\"width\":\"372px\"},attrs:{\"placeholder\":\"点击选择\",\"readonly\":\"\"},nativeOn:{\"click\":function($event){return _vm.dialog_batch('city')}},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}})]],2)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"模型\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"372px\"},attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\",\"filter-method\":_vm.dataFilter},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},[_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.memo,\"value\":item.id}})})],2)],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"edit-btn-list\"},[_c('button',{staticClass:\"btn-submit\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.popup_show},on:{\"update:visible\":function($event){_vm.popup_show=$event}}},[_c('popup-box',{ref:\"getDataName\",attrs:{\"dataList\":_vm.cityId,\"dataId\":_vm.dataId}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.popup_show=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-title\"},[_c('h6',[_c('span'),_vm._v(\"账号基本信息\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54027a46\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/dataprovide/proportion.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54027a46\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./proportion.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./proportion.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./proportion.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54027a46\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./proportion.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54027a46\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/dataprovide/proportion.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}