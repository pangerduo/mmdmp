{"version":3,"sources":["webpack:///src/views/dataprovide/proportion.vue","webpack:///./src/views/dataprovide/proportion.vue?e443","webpack:///./src/views/dataprovide/proportion.vue"],"names":["proportion","name","components","popupBox","popup","data","search","size","page","list","totalPage","totalCount","num","cityList","city","cityvalue","cityAllVal","model","modelvalue","corp","corpid","prjid","projcorp","prjid_local","teamData","cityData","areaId","cityId","modelId","modelData","options","projData","csvS","dataId","isCorpContainAll","isCityAll","popup_show","radio","created","this","JSON","parse","localStorage","getItem","slice","id","memo","getProportionList","watch","handler","len","length","arr","i","push","indexOf","obj","value","methods","change_data","index","changeStaff","_this","filter","item","splice","some","changePrjid","_this2","getArea","dialog_batch","type","submit","_this3","params","mid","cid","area","stopflag","ajax","request","method","url","headers","Content-Type","transformRequest","lib_default","a","stringify","then","res","code","$message","message","catch","error","console","log","_this4","Object","api","_this5","join","matchCity","matchModel","_this6","_this7","dataFilter","val","dataprovide_proportion","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","staticStyle","width","on","change","$event","callback","$$v","expression","_l","key","attrs","label","_s","pmemo","directives","rawName","domProps","input","target","composing","placeholder","filterable","multiple","collapse-tags","filter-method","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"kMA+FAA,GACAC,KAAA,aACAC,YAAAC,SAAAC,EAAA,GACAC,KAHA,WAIA,OACAC,QACAC,KAAA,GACAC,KAAA,GAEAC,MACAJ,QACAK,UAAA,EACAC,WAAA,GAEAC,IAAA,OACAC,YACAC,KAAA,KACAC,UAAA,GACAC,WAAA,GACAC,MAAA,GACAC,WAAA,GACAC,KAAA,GACAC,OAAA,GACAC,MAAA,GACAC,SAAA,GACAC,YAAA,GACAC,YACAC,YACAC,UACAC,UACAC,WACAC,aACAC,WACAC,YACAC,QACAC,OAAA,IACAC,kBAAA,EACAC,WAAA,EACAC,YAAA,EACAC,MAAA,MAGAC,QA1CA,WA2CAC,KAAAf,SAAAgB,KAAAC,MAAAC,aAAAC,QAAA,WACAJ,KAAAd,SAAAe,KAAAC,MAAAC,aAAAC,QAAA,SACAJ,KAAAV,UAAAW,KAAAC,MAAAC,aAAAC,QAAA,UACAJ,KAAAT,QAAAS,KAAAV,UACAU,KAAAf,SAAAe,KAAAf,SAAAoB,MAAA,GACAL,KAAAnB,OAAAmB,KAAAf,SAAA,GAAAqB,GACAN,KAAApB,KAAAoB,KAAAf,SAAA,GAAAsB,KACAP,KAAAtB,MAAAsB,KAAAV,UAAA,GAAAgB,GACAN,KAAA1B,SAAA,GAAA0B,KAAAd,SAAA,GAAAqB,KACAP,KAAAQ,qBAEAC,OACA/B,OACAgC,QAAA,WACAV,KAAAP,QAGA,IAFA,IAAAkB,EAAAX,KAAAV,UAAAsB,OACAC,KACAC,EAAA,EAAAA,EAAAH,EAAAG,IACA,aAAAd,KAAAtB,MACAmC,EAAAE,KAAAf,KAAAV,UAAAwB,IAEAd,KAAAV,UAAAwB,GAAAP,KAAAS,QAAAhB,KAAAtB,QAAA,GACAmC,EAAAE,KAAAf,KAAAV,UAAAwB,IAMA,IAAAA,EAAA,EAAAA,EAAAD,EAAAD,OAAAE,IAAA,CACA,IAAAG,GAAAC,MAAA,GAAAZ,GAAA,IACAW,EAAAC,MAAAL,EAAAC,GAAAP,KACAU,EAAAX,GAAAO,EAAAC,GAAAR,GACAN,KAAAP,KAAAsB,KAAAE,OAKAE,SAEAC,YAFA,SAEAC,EAAArD,GACAgC,KAAA9B,KAAAD,KAAAoD,EACArB,KAAA9B,KAAAF,QAEAsD,YANA,SAMAJ,GAAA,IAAAK,EAAAvB,KACA,SAAAkB,GACAlB,KAAApB,KAAAoB,KAAAf,SAAAuC,OAAA,SAAAC,GAAA,OAAAA,EAAAnB,KAAAiB,EAAA1C,SAAA,GAAA0B,KACAP,KAAA1B,YACA0B,KAAA1B,SAAA,GAAA0B,KAAAd,SAAA,GAAAqB,KACAP,KAAAJ,WAAA,EACAI,KAAAQ,qBACA,QAAAU,IACAlB,KAAAJ,WACAI,KAAAJ,WAAA,EACAI,KAAA1B,SAAAoD,OAAA,OAEA1B,KAAAJ,UAAAI,KAAA1B,SAAAqD,KAAA,SAAAT,GAAA,WAAAA,IACAlB,KAAAJ,UACAI,KAAA1B,UAAA,GAEA0B,KAAA1B,SAAAsC,QAAAZ,KAAAd,SAAA0B,OAAA,IACAZ,KAAA1B,UAAA,GACA0B,KAAAJ,WAAA,MAMAgC,YA9BA,WA8BA,IAAAC,EAAA7B,KACAA,KAAAhB,YAAAgB,KAAAR,SAAAgC,OAAA,SAAAC,GAAA,OAAAA,EAAAnB,IAAAuB,EAAA/C,QAAA,GAAAE,YAEAgB,KAAA1B,YACA0B,KAAA1B,SAAA,GAAA0B,KAAAd,SAAA,GAAAqB,KACAP,KAAAJ,WAAA,EACAI,KAAA8B,WAEAC,aAtCA,SAsCAC,GACAhC,KAAAH,YAAA,GAaAoC,OApDA,WAoDA,IAAAC,EAAAlC,KACAmC,GACAC,IAAApC,KAAAtB,MACA2D,IAAArC,KAAAnB,OACAR,IAAA2B,KAAA3B,IACAiE,KAAAtC,KAAAxB,UAEAM,MAAAkB,KAAAlB,MACAyD,SAAAvC,KAAAF,OAEA,OAAA0C,EAAA,EAAAC,SACAC,OAAA,OACAC,IAAA,cACAC,SACAC,eAAA,oDAEAC,kBAAA,SAAAX,GAEA,OADAA,EAAAY,EAAAC,EAAAC,UAAAd,KAGArE,KAAAqE,IACAe,KAAA,SAAAC,GACA,OAAAA,EAAAC,MACAlB,EAAAmB,UACArB,KAAA,UACAsB,QAAA,WAGAC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAWAhD,kBA5FA,WA4FA,IAAAmD,EAAA3D,KAEAA,KAAApB,KAEMgF,OAAAC,EAAA,EAAAD,CAAN5D,KAAAnB,OAAA,aAAAqE,KAAA,SAAAC,GACA,OAAAA,EAAAC,OACAO,EAAAnE,SAAA2D,EAAArF,KAAAI,KACAyF,EAAA7E,MAAA6E,EAAAnE,SAAA,GAAAc,GACAqD,EAAA3E,YAAA2E,EAAAnE,SAAA,GAAAR,YACA2E,EAAA7B,aAEAyB,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAIA1B,QA5GA,WA4GA,IAAAgC,EAAA9D,KACM4D,OAAAC,EAAA,EAAAD,CAAN5D,KAAAhB,aAAAkE,KAAA,SAAAC,GACA,OAAAA,EAAAC,OACA,MAAAD,EAAArF,KAAAwE,MACAwB,EAAA3E,OAAAgE,EAAArF,KAAAwE,KACAwB,EAAAvF,KAAA,KACAuF,EAAAtF,UAAA2E,EAAArF,KAAAwE,KAAAyB,KAAA,KACAD,EAAArF,WAAA0E,EAAArF,KAAAwE,KAAAyB,KAAA,KACAD,EAAAE,cAEAF,EAAAtF,UAAA,KACAsF,EAAArF,WAAA,KACYmF,OAAAC,EAAA,EAAAD,GACZE,EAAA1E,OAAAa,KAAAC,MAAAC,aAAAC,QAAA,SACAqD,QAAAC,IAAAI,EAAA1E,SAEA,IAAA+D,EAAArF,KAAAY,OACAoF,EAAAzE,QAAA8D,EAAArF,KAAAY,MACAoF,EAAAG,aACAH,EAAApF,MAAAoF,EAAAvE,QAAA,GAAAe,KAEYsD,OAAAC,EAAA,EAAAD,GACZE,EAAAvE,QAAAU,KAAAC,MAAAC,aAAAC,QAAA,UACA,KAAA0D,EAAAxE,UAAA,GAAAgB,GACAwD,EAAApF,MAAAoF,EAAAxE,UAAA,GAAAgB,GAEAwD,EAAApF,MAAAoF,EAAAxE,UAAA,GAAAgB,OAIAiD,MAAA,SAAAC,OAKAQ,UA/IA,WA+IA,IAAAE,EAAAlE,KACAA,KAAAZ,UACA,QAAA0B,EAAA,EAAAA,EAAAd,KAAAb,OAAAyB,OAAAE,IAAA,CACA,IAAAG,EAAA,IAAA2C,OACA3C,EAAAX,GAAAN,KAAAd,SAAAsC,OAAA,SAAAC,GAAA,OAAAA,EAAAnB,KAAA4D,EAAA/E,OAAA2B,KAAA,GAAAR,GACAW,EAAAV,KAAAP,KAAAd,SAAAsC,OAAA,SAAAC,GAAA,OAAAA,EAAAnB,KAAA4D,EAAA/E,OAAA2B,KAAA,GAAAP,KACAP,KAAAZ,OAAA2B,KAAAE,KAKAgD,WA1JA,WA0JA,IAAAE,EAAAnE,KACAA,KAAAT,WACA,QAAAuB,EAAA,EAAAA,EAAAd,KAAAX,QAAAuB,OAAAE,IAAA,CACA,IAAAG,EAAA,IAAA2C,OACA3C,EAAAX,GAAAN,KAAAV,UAAAkC,OAAA,SAAAC,GAAA,OAAAA,EAAAnB,KAAA6D,EAAA9E,QAAAyB,KAAA,GAAAR,GACAW,EAAAV,KAAAP,KAAAV,UAAAkC,OAAA,SAAAC,GAAA,OAAAA,EAAAnB,KAAA6D,EAAA9E,QAAAyB,KAAA,GAAAP,KACAP,KAAAT,QAAAwB,KAAAE,KAGAmD,WAnKA,SAmKAC,GACArE,KAAAtB,MACAsB,KAAAT,QAAAS,KAAAV,UAAAkC,OAAA,SAAAC,GACA,IAAAA,EAAAlB,KAAAS,QAAAqD,GACA,WAIArE,KAAAT,QAAAS,KAAAV,aCvVegF,GADEC,OAFjB,WAA0B,IAAAC,EAAAxE,KAAayE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,cAAwBL,EAAAM,GAAA,GAAAN,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,cAAwBL,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAA0CE,YAAA,eAAyBF,EAAA,aAAkBK,aAAaC,MAAA,SAAgBC,IAAKC,OAAA,SAAAC,GAA0B,OAAAZ,EAAAlD,YAAA,WAAiC5C,OAAQwC,MAAAsD,EAAA,OAAAa,SAAA,SAAAC,GAA4Cd,EAAA3F,OAAAyG,GAAeC,WAAA,YAAsBf,EAAAgB,GAAAhB,EAAA,kBAAA/C,GAAuC,OAAAkD,EAAA,aAAwBc,IAAAhE,EAAAlB,KAAAmF,OAAqBC,MAAAlE,EAAAlB,KAAAW,MAAAO,EAAAnB,MAAmCkE,EAAAO,GAAAP,EAAAoB,GAAAnE,EAAAlB,aAA+B,SAAAiE,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,cAAwBL,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAA0CE,YAAA,eAAyBF,EAAA,aAAkBK,aAAaC,MAAA,SAAgBC,IAAKC,OAAAX,EAAA5C,aAAyBlD,OAAQwC,MAAAsD,EAAA,MAAAa,SAAA,SAAAC,GAA2Cd,EAAA1F,MAAAwG,GAAcC,WAAA,WAAqBf,EAAAgB,GAAAhB,EAAA,kBAAA/C,GAAuC,OAAAkD,EAAA,aAAwBc,IAAAhE,EAAAnB,GAAAoF,OAAmBC,MAAAlE,EAAAoE,MAAA3E,MAAAO,EAAAnB,MAAoCkE,EAAAO,GAAAP,EAAAoB,GAAAnE,EAAAoE,cAAgC,SAAArB,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,cAAwBL,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAAwCE,YAAA,gBAAyBF,EAAA,SAAemB,aAAapI,KAAA,QAAAqI,QAAA,UAAA7E,MAAAsD,EAAA,IAAAe,WAAA,QAAgEV,YAAA,aAAAG,aAAwCC,MAAA,SAAgBS,OAAQ1D,KAAA,UAAgBgE,UAAW9E,MAAAsD,EAAA,KAAkBU,IAAKe,MAAA,SAAAb,GAAyBA,EAAAc,OAAAC,YAAsC3B,EAAAnG,IAAA+G,EAAAc,OAAAhF,aAA8B,KAAAsD,EAAAO,GAAA,KAAAJ,EAAA,OAA+BE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,cAAwBL,EAAAO,GAAA,WAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAA2CE,YAAA,eAAyBF,EAAA,aAAkBK,aAAaC,MAAA,SAAgBS,OAAQU,YAAA,MAAAC,WAAA,GAAAC,SAAA,GAAAC,gBAAA,IAAqErB,IAAKC,OAAA,SAAAC,GAA0B,OAAAZ,EAAAlD,YAAA,UAAgC5C,OAAQwC,MAAAsD,EAAA,SAAAa,SAAA,SAAAC,GAA8Cd,EAAAlG,SAAAgH,GAAiBC,WAAA,cAAwBf,EAAAgB,GAAAhB,EAAA,gBAAA/C,EAAAJ,GAA2C,OAAAsD,EAAA,aAAwBc,IAAApE,EAAAqE,OAAiBC,MAAAlE,EAAAlB,KAAAW,MAAAO,EAAAnB,MAAmCkE,EAAAO,GAAAP,EAAAoB,GAAAnE,EAAAlB,aAA+B,SAAAiE,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,cAAwBL,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAAwCE,YAAA,eAAyBF,EAAA,aAAkBK,aAAaC,MAAA,SAAgBS,OAAQU,YAAA,MAAAC,WAAA,GAAAG,gBAAAhC,EAAAJ,YAAmE1F,OAAQwC,MAAAsD,EAAA,MAAAa,SAAA,SAAAC,GAA2Cd,EAAA9F,MAAA4G,GAAcC,WAAA,WAAqBf,EAAAgB,GAAAhB,EAAA,iBAAA/C,GAAsC,OAAAkD,EAAA,aAAuBc,IAAAhE,EAAAnB,GAAAoF,OAAmBC,MAAAlE,EAAAlB,KAAAW,MAAAO,EAAAnB,SAAqC,SAAAkE,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,yBAAmCL,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,QAA0CE,YAAA,eAAyBF,EAAA,OAAYK,aAAaC,MAAA,WAAiBN,EAAA,SAAAA,EAAA,YAA6Be,OAAOC,MAAA,KAAYjH,OAAQwC,MAAAsD,EAAA,MAAAa,SAAA,SAAAC,GAA2Cd,EAAA1E,MAAAwF,GAAcC,WAAA,WAAqBf,EAAAO,GAAA,WAAAP,EAAAO,GAAA,2BAAAJ,EAAA,SAAAA,EAAA,YAAiFe,OAAOC,MAAA,KAAYjH,OAAQwC,MAAAsD,EAAA,MAAAa,SAAA,SAAAC,GAA2Cd,EAAA1E,MAAAwF,GAAcC,WAAA,WAAqBf,EAAAO,GAAA,qBAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAAoDE,YAAA,kBAA4BF,EAAA,UAAeE,YAAA,aAAAa,OAAgC1D,KAAA,UAAgBkD,IAAKuB,MAAAjC,EAAAvC,UAAoBuC,EAAAO,GAAA,eAE33G2B,iBADjB,WAAoC,IAAajC,EAAbzE,KAAa0E,eAA0BC,EAAvC3E,KAAuC4E,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,MAAAA,EAAA,QAAzG3E,KAAyG+E,GAAA,iBCE7I,IAcA4B,EAdyBC,EAAQ,OAcjCC,CACEpJ,EACA6G,GATF,EAVA,SAAAwC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/11.7ddeceb4da9e630ea42b.js","sourcesContent":["<template>\n  <div class=\"main rule-group\">\n    <div class=\"main-edit\">\n      <div class=\"edit-title\">\n        <h6><span></span>账号基本信息</h6>\n      </div>\n      <div class=\"edit-box\">\n        <div class=\"box-info\">\n          <div class=\"info-item\">\n            <span class=\"item-left\">外呼团队</span>\n            <span class=\"item-right\">\n              <el-select style=\"width:220px;\" v-model=\"corpid\" @change=\"changeStaff('model')\">\n                  <template v-for=\"item in teamData\">\n                      <el-option :label=\"item.memo\" :value=\"item.id\" :key=\"item.memo\">{{item.memo}}</el-option>\n                  </template>\n              </el-select>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">外呼项目</span>\n            <span class=\"item-right\">\n              <el-select style=\"width:220px;\" v-model=\"prjid\" @change='changePrjid'>\n                  <template v-for=\"item in projData\">\n                      <el-option :label=\"item.pmemo\" :value=\"item.id\" :key=\"item.id\">{{item.pmemo}}</el-option>\n                  </template>\n              </el-select>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">数量</span>\n            <span class=\"item-right\">\n              <template>\n                <input style=\"width:220px;\" type=\"Number\" v-model=\"num\" class=\"txt-common\" />\n              </template>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">数据归属地</span>\n            <span class=\"item-right\">\n<!--              <template>-->\n<!--                <el-input style=\"width:372px;\" placeholder=\"点击选择\" readonly v-model=\"city\" @click.native=\"dialog_batch('city')\"></el-input>-->\n<!--              </template>-->\n              <el-select style=\"width:372px;\" v-model=\"cityList\" placeholder=\"请选择\" filterable multiple collapse-tags @change=\"changeStaff('city')\">\n                <template v-for=\"(item, index) in cityId\">\n                  <el-option :key=\"index\" :label=\"item.memo\" :value=\"item.id\">{{item.memo}}</el-option>\n                </template>\n              </el-select>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">模型</span>\n            <span class=\"item-right\">\n<!--              <el-autocomplete style=\"width:372px;\" class=\"inline-input\" v-model=\"model\" trigger-on-focus :fetch-suggestions=\"querySearch\" @select=\"handleSelect\" placeholder=\"点击搜索\"></el-autocomplete> -->\n                <el-select style=\"width:372px;\" v-model=\"model\" placeholder=\"请选择\" filterable :filter-method=\"dataFilter\">\n                  <template>\n                    <el-option v-for=\"item in options\" :key=\"item.id\" :label=\"item.memo\" :value=\"item.id\"/>\n                  </template>\n                </el-select>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left font-block\">暂停其它</span>\n            <span class=\"item-right\">\n              <div style=\"width: 450px;\">\n                <label>\n                  <el-radio v-model=\"radio\" label=\"0\">否</el-radio>\n                </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <label>\n                  <el-radio v-model=\"radio\" label=\"1\">是</el-radio>\n                </label>\n              </div>\n            </span>\n          </div>\n        </div>\n      </div>\n      <div class=\"edit-btn-list\">\n        <button type=\"button\" class=\"btn-submit\" @click=\"submit\">提交</button>\n      </div>\n<!--      <el-dialog :visible.sync=\"popup_show\" width=\"43%\">-->\n<!--        <popup-box :dataList='cityId' :dataId = 'dataId' ref=\"getDataName\"></popup-box>-->\n<!--        <div slot=\"footer\" class=\"dialog-footer\">-->\n<!--          <el-button @click=\"popup_show=false\" size=\"mini\">取消</el-button>-->\n<!--          <el-button type=\"primary\" size=\"mini\" @click=\"save\">保存</el-button>-->\n<!--        </div>-->\n<!--      </el-dialog>-->\n    </div>\n  </div>\n</template>\n\n<script>\nimport pager from '@/components/pager'\nimport popupBox from '@/components/popup'\nimport {get_datacmemo, get_area, get_city, get_model} from '@/api/index'\nimport ajax from '@/config/ajax'\nimport Qs from 'qs'\nexport default {\n  name: 'proportion',\n  components:{popupBox},\n  data () {\n    return {\n      search: {\n        size: 20, // 每页显示条数\n        page: 1 // 页码\n      },\n      list: {\n        data: [], // 数据集\n        totalPage: 0, // 总页数\n        totalCount: 0, // 总条数\n      },\n      num: '8000',  //数量\n      cityList: [], //城市\n      city: '所有' ,   //城市\n      cityvalue: '',    //城市id\n      cityAllVal: '',   //所有城市id\n      model: '', //模型\n      modelvalue: '',  //模型id\n      corp: \"\",   //外呼团队\n      corpid: \"\",  //外呼团队id\n      prjid: '',  //项目id\n      projcorp: '',\n      prjid_local: '',  \n      teamData: [],         //外呼团队字典数组\n      cityData: [],  //城市字典数组\n      areaId: [],     //根据项目id获取城市id\n      cityId: [],    //匹配完的数组\n      modelId: [],    //从城市字典数组\n      modelData: [], //数据批次字典数组  \n      options: [],  \n      projData: [],  //外呼项目字典树组\n      csvS: [],  \n      dataId: \"3\",    //数据批次、省份、城市数据id分别\n      isCorpContainAll: true,  //外呼团队是否选中全选\n      isCityAll: true,   //数据归属地是否选择了全选\n      popup_show: false,\n      radio: '0', // 暂停其它\n    }\n  },\n  created () {\n    this.teamData = JSON.parse(localStorage.getItem(\"cropid\"));\n    this.cityData = JSON.parse(localStorage.getItem(\"city\"));\n    this.modelData = JSON.parse(localStorage.getItem(\"model\"));\n    this.options = this.modelData;\n    this.teamData = this.teamData.slice(1);\n    this.corpid = this.teamData[0].id;\n    this.corp = this.teamData[0].memo;\n    this.model = this.modelData[0].id;\n    this.cityList[0] = this.cityData[0].memo;\n    this.getProportionList()\n  },\n  watch: {\n    'model': {\n      handler: function() {\n        this.csvS = [];//这是定义好的用于存放下拉提醒框中数据的数组\n          var len = this.modelData.length;//csvList是页面初始化时得到的初始全部数据\n          var arr = [];\n          for (var i = 0; i < len; i++) {//根据输入框中inputName的值进行模糊匹配\n            if(this.model == 'undefined'){\n              arr.push(this.modelData[i]);\n            }else{\n              if (this.modelData[i].memo.indexOf(this.model) >= 0) {\n                arr.push(this.modelData[i]);//符合条件的值都放入arr中\n              }\n            }\n            \n          }\n          //el-autocomplete元素要求数组内是对象，且有value属性，此处做一个格式调整\n          for (var i = 0; i < arr.length; i++) {\n            var obj = { value: \"\" , id: ''};\n            obj.value = arr[i].memo;\n            obj.id = arr[i].id;\n            this.csvS.push(obj);\n          }\n      }\n    }\n  },\n  methods: {\n    // 分页\n    change_data (index, size) {\n      this.list.page = index;\n      this.list.size = size\n    },\n    changeStaff(value){\n      if (value == 'model') {\n        this.corp = this.teamData.filter(item => item.id === this.corpid)[0].memo;\n        this.cityList = [];\n        this.cityList[0] = this.cityData[0].memo;\n        this.isCityAll = true;\n        this.getProportionList();\n      }else if (value == 'city') {\n        if (this.isCityAll) {\n          this.isCityAll = false;\n          this.cityList.splice(0, 1);\n        }else{\n          this.isCityAll = this.cityList.some(value => value === 0)\n          if (this.isCityAll) {\n            this.cityList = [0];\n          }else {\n            if (this.cityList.length == this.cityData.length - 1) {\n              this.cityList = [0];\n              this.isCityAll = true;\n            }\n          }\n        }\n      }\n    },\n    changePrjid(){\n      this.prjid_local = this.projData.filter(item => item.id == this.prjid)[0].prjid_local;\n      // this.prjid_local = this.prjid;\n      this.cityList = [];\n      this.cityList[0] = this.cityData[0].memo;\n      this.isCityAll = true;\n      this.getArea();\n    },\n    dialog_batch(type){\n      this.popup_show = true;\n    },\n    // save() {\n    //   this.popup_show = false;\n    //   if(this.$refs.getDataName.complete()[0] != ''){\n    //     this.city = this.$refs.getDataName.complete()[0].join(\",\");\n    //     this.cityvalue = this.$refs.getDataName.complete()[1].join(\",\");\n    //   }else{\n    //     this.city = \"所有\";\n    //     this.cityvalue = this.cityAllVal;\n    //   }\n    //\n    // },\n    submit(){\n      var params = {\n        mid:this.model,\n        cid:this.corpid,\n        num: this.num,\n        area: this.cityvalue,\n        // area: this.cityList.join(','),\n        prjid: this.prjid,\n        stopflag: this.radio\n      }\n      return ajax.request({\n        method:'post',\n        url:'provide/add',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n        },\n        transformRequest: [function(params) {      //在请求之前对data传参进行格式转换\n          params = Qs.stringify(params)\n          return params\n        }],\n        data:params\n      }).then((res)=>{\n        if(res.code == '200'){\n          this.$message({\n            type: 'success',\n            message: '提交成功'\n          })\n        }\n      }).catch((error)=>{\n        console.log(error)\n      })\n    },\n    // querySearch(queryString, cb) {\n    //   var csvS = this.csvS;\n    //   cb(csvS);\n    // },\n    // handleSelect(item){\n    //   this.modelvalue = item.id;\n    // },\n    // 获取项目id等\n    getProportionList () {\n      var params = {\n          cmemo: this.corp\n        }\n        get_datacmemo(this.corpid, \"pmemo/cid\").then((res) => {\n          if(res.code == '200'){\n            this.projData = res.data.list;\n            this.prjid = this.projData[0].id;\n            this.prjid_local = this.projData[0].prjid_local;\n            this.getArea();\n          }\n        }).catch(error => {\n          console.log(error);\n        })\n    },\n    //获取地域级模型\n    getArea(){\n      get_area(this.prjid_local).then((res) => {\n        if(res.code == '200'){\n          if(res.data.area != 'ex'){\n            this.areaId = res.data.area;\n            this.city = \"所有\";\n            this.cityvalue = res.data.area.join(\",\");\n            this.cityAllVal = res.data.area.join(\",\");\n            this.matchCity();\n          }else {\n            this.cityvalue = 'ex';\n            this.cityAllVal = 'ex';\n            get_city();\n            this.cityId = JSON.parse(localStorage.getItem(\"city\"));\n            console.log(this.cityId)\n          }\n          if(res.data.model != ''){\n            this.modelId = res.data.model;\n            this.matchModel();\n            this.model = this.options[0].id;\n          }else{\n            get_model();\n            this.options = JSON.parse(localStorage.getItem(\"model\"));\n            if(this.modelData[0].id == '0'){\n              this.model = this.modelData[1].id;\n            }else{\n              this.model = this.modelData[0].id;\n            }\n          }\n        }\n      }).catch(error => {\n\n      })\n    },\n    //匹配城市id\n    matchCity(){\n      this.cityId = [];\n      for(var i=0;i<this.areaId.length;i++){\n        var obj = new Object();\n        obj.id = this.cityData.filter(item => item.id === this.areaId[i])[0].id;\n        obj.memo = this.cityData.filter(item => item.id === this.areaId[i])[0].memo;\n        this.cityId.push(obj);\n        // console.log(this.cityData)\n      }\n    },\n    //匹配模型\n    matchModel(){\n      this.options = [];\n      for(var i=0;i<this.modelId.length;i++){\n        var obj = new Object();\n        obj.id = this.modelData.filter(item => item.id === this.modelId[i])[0].id;\n        obj.memo = this.modelData.filter(item => item.id === this.modelId[i])[0].memo;\n        this.options.push(obj);\n      }\n    },\n    dataFilter(val){\n      if(this.model){\n        this.options = this.modelData.filter((item) => {\n          if (!!~item.memo.indexOf(val)) {\n            return true\n          }\n        })\n      }else{\n        this.options = this.modelData;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  @import '../../assets/css/pages/main.css';\n  .rule-group{\n    padding-left: 15px;\n  }\n  .rule-group .main-table table{\n    margin-bottom: 30px;\n  }\n  .main-edit .edit-box{\n    margin-top:30px;\n  }\n  .main-edit .info-item .item-left{\n    width:12%;\n    color:#333\n  }\n  .main-edit .info-item .item-right input{\n    color:#333!important;\n  }\n  .main-edit .info-item .item-right select{\n    color:#333!important;\n  }\n  .el-input__inner{\n    height:34px!important;\n    line-height:34px!important;\n  }\n  .el-select-dropdown__wrap ul li{\n    padding-left:20px!important;\n    display:block;\n  }\n  .main-edit .info-item{\n    margin-bottom:30px;\n  }\n  .main-edit .edit-btn-list{\n    border-top:none;\n  }\n  .edit-btn-list .btn-submit{\n    margin-top:30px;\n    margin-left:-300px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/dataprovide/proportion.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main rule-group\"},[_c('div',{staticClass:\"main-edit\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"edit-box\"},[_c('div',{staticClass:\"box-info\"},[_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"外呼团队\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"220px\"},on:{\"change\":function($event){return _vm.changeStaff('model')}},model:{value:(_vm.corpid),callback:function ($$v) {_vm.corpid=$$v},expression:\"corpid\"}},[_vm._l((_vm.teamData),function(item){return [_c('el-option',{key:item.memo,attrs:{\"label\":item.memo,\"value\":item.id}},[_vm._v(_vm._s(item.memo))])]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"外呼项目\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"220px\"},on:{\"change\":_vm.changePrjid},model:{value:(_vm.prjid),callback:function ($$v) {_vm.prjid=$$v},expression:\"prjid\"}},[_vm._l((_vm.projData),function(item){return [_c('el-option',{key:item.id,attrs:{\"label\":item.pmemo,\"value\":item.id}},[_vm._v(_vm._s(item.pmemo))])]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"数量\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.num),expression:\"num\"}],staticClass:\"txt-common\",staticStyle:{\"width\":\"220px\"},attrs:{\"type\":\"Number\"},domProps:{\"value\":(_vm.num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.num=$event.target.value}}})]],2)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"数据归属地\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"372px\"},attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\",\"multiple\":\"\",\"collapse-tags\":\"\"},on:{\"change\":function($event){return _vm.changeStaff('city')}},model:{value:(_vm.cityList),callback:function ($$v) {_vm.cityList=$$v},expression:\"cityList\"}},[_vm._l((_vm.cityId),function(item,index){return [_c('el-option',{key:index,attrs:{\"label\":item.memo,\"value\":item.id}},[_vm._v(_vm._s(item.memo))])]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"模型\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"372px\"},attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\",\"filter-method\":_vm.dataFilter},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},[_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.memo,\"value\":item.id}})})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left font-block\"},[_vm._v(\"暂停其它\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('div',{staticStyle:{\"width\":\"450px\"}},[_c('label',[_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"否\")])],1),_vm._v(\"     \\n                \"),_c('label',[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"是\")])],1)])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"edit-btn-list\"},[_c('button',{staticClass:\"btn-submit\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-title\"},[_c('h6',[_c('span'),_vm._v(\"账号基本信息\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-695947c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/dataprovide/proportion.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-695947c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./proportion.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./proportion.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./proportion.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-695947c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./proportion.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-695947c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/dataprovide/proportion.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}