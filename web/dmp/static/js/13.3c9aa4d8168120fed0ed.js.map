{"version":3,"sources":["webpack:///src/views/dataprovide/proportion.vue","webpack:///./src/views/dataprovide/proportion.vue?daec","webpack:///./src/views/dataprovide/proportion.vue"],"names":["proportion","name","components","popupBox","popup","data","search","size","page","list","totalPage","totalCount","num","city","cityvalue","cityAllVal","model","modelvalue","corp","corpid","prjid","prjid_local","teamData","cityData","areaId","cityId","modelData","options","projData","csvS","dataId","isCorpContainAll","popup_show","created","this","JSON","parse","localStorage","getItem","slice","id","memo","getProportionList","watch","handler","len","length","arr","i","push","indexOf","obj","value","methods","change_data","index","changeStaff","_this","filter","item","changePrjid","getArea","dialog_batch","type","save","console","log","$refs","getDataName","complete","join","submit","_this2","params","mid","cid","area","ajax","request","method","url","headers","Content-Type","transformRequest","lib_default","a","stringify","then","res","code","$message","message","catch","error","querySearch","queryString","cb","handleSelect","_this3","Object","api","_this4","matchCity","_this5","dataFilter","val","dataprovide_proportion","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","staticStyle","width","on","change","$event","callback","$$v","expression","_l","key","attrs","label","_s","pmemo","directives","rawName","domProps","input","target","composing","placeholder","readonly","nativeOn","click","filterable","filter-method","visible","update:visible","ref","dataList","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.3c9aa4d8168120fed0ed.js","sourcesContent":["<template>\n  <div class=\"main rule-group\">\n    <div class=\"main-edit\">\n      <div class=\"edit-title\">\n        <h6><span></span>账号基本信息</h6>\n      </div>\n      <div class=\"edit-box\">\n        <div class=\"box-info\">\n          <div class=\"info-item\">\n            <span class=\"item-left\">外呼团队</span>\n            <span class=\"item-right\">\n              <el-select style=\"width:220px;\" v-model=\"corpid\" @change=\"changeStaff()\">\n                  <template v-for=\"item in teamData\">\n                      <el-option :label=\"item.memo\" :value=\"item.id\"  :key=\"item.memo\">{{item.memo}}</el-option>\n                  </template>\n              </el-select>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">外呼项目</span>\n            <span class=\"item-right\">\n              <el-select style=\"width:220px;\" v-model=\"prjid\" @change='changePrjid'>\n                  <template v-for=\"item in projData\">\n                      <el-option :label=\"item.pmemo\" :value=\"item.id\"  :key=\"item.id\">{{item.pmemo}}</el-option>\n                  </template>\n              </el-select>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">数量</span>\n            <span class=\"item-right\">\n              <template>\n                <input style=\"width:220px;\" type=\"Number\" v-model=\"num\" class=\"txt-common\" />\n              </template>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">数据归属地</span>\n            <span class=\"item-right\">\n              <template>\n                <el-input style=\"width:372px;\" placeholder=\"点击选择\" readonly v-model=\"city\" @click.native=\"dialog_batch('city')\"></el-input>\n              </template>\n            </span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"item-left\">模型</span>\n            <span class=\"item-right\">\n              <template>\n                <!-- <el-autocomplete style=\"width:372px;\" class=\"inline-input\" v-model=\"model\" trigger-on-focus :fetch-suggestions=\"querySearch\" @select=\"handleSelect\" placeholder=\"点击搜索\"></el-autocomplete> -->\n                <el-select style=\"width:372px;\" v-model=\"model\" placeholder=\"请选择\" filterable :filter-method=\"dataFilter\">\n                  <el-option v-for=\"item in options\" :key=\"item.id\" :label=\"item.memo\" :value=\"item.id\" />\n                </el-select>\n              \n              </template>\n              \n            </span>\n          </div>\n        </div>\n      </div>\n      <div class=\"edit-btn-list\">\n        <button type=\"button\" class=\"btn-submit\" @click=\"submit\">提交</button>\n      </div>\n      <el-dialog :visible.sync=\"popup_show\">\n        <popup-box :dataList='cityId' :dataId = 'dataId' ref=\"getDataName\"></popup-box>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"popup_show=false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"save\">保存</el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport pager from '@/components/pager'\nimport popupBox from '@/components/popup'\nimport {get_datacmemo, get_area, get_city, get_model} from '@/api/index'\nimport ajax from '@/config/ajax'\nimport Qs from 'qs'\nexport default {\n  name: 'proportion',\n  components:{popupBox},\n  data () {\n    return {\n      search: {\n        size: 10, // 每页显示条数\n        page: 1 // 页码\n      },\n      list: {\n        data: [], // 数据集\n        totalPage: 0, // 总页数\n        totalCount: 0, // 总条数\n      },\n      num: '8000',  //数量\n      city: '所有' ,   //城市\n      cityvalue: '',    //城市id\n      cityAllVal: '',     //所有城市id\n      model: '', //模型\n      modelvalue: '',  //模型id\n      corp: \"\",   //外呼团队\n      corpid: \"\",  //外呼团队id\n      prjid: '',  //项目id\n      prjid_local: '',  \n      teamData: [],         //外呼团队字典数组\n      cityData: [],  //城市字典数组\n      areaId: [],     //根据项目id获取城市id\n      cityId: [],    //匹配完的数组\n      modelData: [], //数据批次字典数组  \n      options: [],  \n      projData: [],  //外呼项目字典树组\n      csvS: [],  \n      dataId: \"3\",    //数据批次、省份、城市数据id分别\n      isCorpContainAll: true,  //外呼团队是否选中全选 \n      popup_show: false\n    }\n  },\n  created () {\n    this.teamData = JSON.parse(localStorage.getItem(\"cropid\"));\n    this.cityData = JSON.parse(localStorage.getItem(\"city\"));\n    this.modelData = JSON.parse(localStorage.getItem(\"model\"));\n    this.options = this.modelData;\n    this.teamData = this.teamData.slice(1);\n    this.corpid = this.teamData[0].id;\n    this.corp = this.teamData[0].memo;\n    this.model = this.modelData[0].id;\n    this.getProportionList()\n  },\n  watch: {\n    'model': {\n      handler: function() {\n        this.csvS = [];//这是定义好的用于存放下拉提醒框中数据的数组\n          var len = this.modelData.length;//csvList是页面初始化时得到的初始全部数据\n          var arr = [];\n          for (var i = 0; i < len; i++) {//根据输入框中inputName的值进行模糊匹配\n            if(this.model == ''){\n              arr.push(this.modelData[i]);\n            }else{\n              if (this.modelData[i].memo.indexOf(this.model) >= 0) {\n                arr.push(this.modelData[i]);//符合条件的值都放入arr中\n              }\n            }\n            \n          }\n          //el-autocomplete元素要求数组内是对象，且有value属性，此处做一个格式调整\n          for (var i = 0; i < arr.length; i++) {\n            var obj = { value: \"\" , id: ''};\n            obj.value = arr[i].memo;\n            obj.id = arr[i].id;\n            this.csvS.push(obj);\n          }\n      }\n    }\n  },\n  methods: {\n    // 分页\n    change_data (index, size) {\n      this.list.page = index;\n      this.list.size = size\n    },\n    changeStaff(value){\n      this.corp = this.teamData.filter(item => item.id === this.corpid)[0].memo;\n      this.getProportionList();\n    },\n    changePrjid(){\n      this.getArea();\n    },\n    dialog_batch(type){\n      this.popup_show = true;\n    },\n    save() {\n      this.popup_show = false;\n      console.log(this.$refs.getDataName.complete()[0]);\n      if(this.$refs.getDataName.complete()[0] != ''){\n        console.log(\"22222\");\n        this.city = this.$refs.getDataName.complete()[0].join(\",\");\n        this.cityvalue = this.$refs.getDataName.complete()[1].join(\",\");\n      }else{\n        this.city = \"所有\";\n        this.cityvalue = this.cityAllVal;\n      }\n      \n    },\n    submit(){\n      var params = {\n        mid:this.model,\n        cid:this.corpid,\n        num: this.num,\n        area: this.cityvalue,\n        prjid: this.prjid\n      }\n      return ajax.request({\n        method:'post',\n        url:'provide',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n        },\n        transformRequest: [function(params) {      //在请求之前对data传参进行格式转换\n          params = Qs.stringify(params)\n          return params\n        }],\n        data:params\n      }).then((res)=>{\n        if(res.code == '200'){\n          this.$message({\n            type: 'success',\n            message: '提交成功'\n          })\n        }\n      }).catch((error)=>{\n        console.log(error)\n      })\n    },\n    querySearch(queryString, cb) {\n      var csvS = this.csvS;\n      cb(csvS);\n    },\n    handleSelect(item){\n      this.modelvalue = item.id;\n    },\n    // 获取项目id等\n    getProportionList () {\n      var params = {\n          cmemo: this.corp\n        }\n        get_datacmemo(this.corp, \"pmemo/cmemo\").then((res) => {\n          if(res.code == '200'){\n            this.projData = res.data.list;\n            this.prjid = this.projData[0].id;\n            this.prjid_local = this.projData[0].prjid_local;\n            this.getArea();\n          }\n        }).catch(error => {\n          console.log(error);\n        })\n    },\n    //获取地域级模型\n    getArea(){\n      get_area(this.prjid_local).then((res) => {\n        if(res.code == '200'){\n          if(res.data.area != 'ex'){\n            this.areaId = res.data.area;\n            this.city = \"所有\";\n            this.cityvalue = res.data.area.join(\",\");\n            this.cityAllVal = res.data.area.join(\",\")\n            this.matchCity();\n          }else{\n            this.cityvalue = 'ex';\n            this.cityAllVal = 'ex';\n            get_city();\n            this.cityId = JSON.parse(localStorage.getItem(\"city\"));\n          }\n          if(res.data.model != ''){\n            console.log(this.modelData);\n            this.modelData = res.data.model;\n            this.model = this.modelData[0].id;\n          }else{\n            get_model();\n            this.modelData = JSON.parse(localStorage.getItem(\"model\"));\n            this.model = this.modelData[0].id;\n          }\n        }\n      }).catch(error => {\n\n      })\n    },\n    //匹配城市id\n    matchCity(){\n      this.cityId = [];\n      for(var i=0;i<this.areaId.length;i++){\n        var obj = new Object();\n        obj.id = this.cityData.filter(item => item.id === this.areaId[i])[0].id;\n        obj.memo = this.cityData.filter(item => item.id === this.areaId[i])[0].memo;\n        this.cityId.push(obj);\n      }\n    },\n    dataFilter(val){\n      if(this.model){\n        this.options = this.modelData.filter((item) => {\n          if (!!~item.memo.indexOf(val)) {\n            return true\n          }\n        })\n      }else{\n        this.options = this.modelData;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  @import '../../assets/css/pages/main.css';\n  .rule-group{\n    padding-left: 15px;\n  }\n  .rule-group .main-table table{\n    margin-bottom: 30px;\n  }\n  .main-edit .edit-box{\n    margin-top:30px;\n  }\n  .main-edit .info-item .item-left{\n    width:12%;\n    color:#333\n  }\n  .main-edit .info-item .item-right input{\n    color:#333!important;\n  }\n  .main-edit .info-item .item-right select{\n    color:#333!important;\n  }\n  .el-input__inner{\n    height:34px!important;\n    line-height:34px!important;\n  }\n  .el-select-dropdown__wrap ul li{\n    padding-left:20px!important;\n    display:block;\n  }\n  .main-edit .info-item{\n    margin-bottom:30px;\n  }\n  .main-edit .edit-btn-list{\n    border-top:none;\n  }\n  .edit-btn-list .btn-submit{\n    margin-top:30px;\n    margin-left:-300px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/dataprovide/proportion.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main rule-group\"},[_c('div',{staticClass:\"main-edit\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"edit-box\"},[_c('div',{staticClass:\"box-info\"},[_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"外呼团队\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"220px\"},on:{\"change\":function($event){return _vm.changeStaff()}},model:{value:(_vm.corpid),callback:function ($$v) {_vm.corpid=$$v},expression:\"corpid\"}},[_vm._l((_vm.teamData),function(item){return [_c('el-option',{key:item.memo,attrs:{\"label\":item.memo,\"value\":item.id}},[_vm._v(_vm._s(item.memo))])]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"外呼项目\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('el-select',{staticStyle:{\"width\":\"220px\"},on:{\"change\":_vm.changePrjid},model:{value:(_vm.prjid),callback:function ($$v) {_vm.prjid=$$v},expression:\"prjid\"}},[_vm._l((_vm.projData),function(item){return [_c('el-option',{key:item.id,attrs:{\"label\":item.pmemo,\"value\":item.id}},[_vm._v(_vm._s(item.pmemo))])]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"数量\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.num),expression:\"num\"}],staticClass:\"txt-common\",staticStyle:{\"width\":\"220px\"},attrs:{\"type\":\"Number\"},domProps:{\"value\":(_vm.num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.num=$event.target.value}}})]],2)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"数据归属地\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[[_c('el-input',{staticStyle:{\"width\":\"372px\"},attrs:{\"placeholder\":\"点击选择\",\"readonly\":\"\"},nativeOn:{\"click\":function($event){return _vm.dialog_batch('city')}},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}})]],2)]),_vm._v(\" \"),_c('div',{staticClass:\"info-item\"},[_c('span',{staticClass:\"item-left\"},[_vm._v(\"模型\")]),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[[_c('el-select',{staticStyle:{\"width\":\"372px\"},attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\",\"filter-method\":_vm.dataFilter},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.memo,\"value\":item.id}})}),1)]],2)])])]),_vm._v(\" \"),_c('div',{staticClass:\"edit-btn-list\"},[_c('button',{staticClass:\"btn-submit\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.popup_show},on:{\"update:visible\":function($event){_vm.popup_show=$event}}},[_c('popup-box',{ref:\"getDataName\",attrs:{\"dataList\":_vm.cityId,\"dataId\":_vm.dataId}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.popup_show=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-title\"},[_c('h6',[_c('span'),_vm._v(\"账号基本信息\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0fa00a06\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/dataprovide/proportion.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0fa00a06\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./proportion.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./proportion.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./proportion.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0fa00a06\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./proportion.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0fa00a06\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/dataprovide/proportion.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}