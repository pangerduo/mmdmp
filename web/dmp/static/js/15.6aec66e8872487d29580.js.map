{"version":3,"sources":["webpack:///src/views/dataprovide/task.vue","webpack:///./src/views/dataprovide/task.vue?fa72","webpack:///./src/views/dataprovide/task.vue"],"names":["task","name","data","search","size","page","list","totalPage","totalCount","status","modelData2","teamData","projData","pmemoData","components","pageTable","pager","created","this","JSON","parse","localStorage","getItem","getTask","methods","change_data","index","_this","params","ajax","request","url","headers","Content-Type","then","res","catch","error","console","log","deleteTask","_this2","id","method","$message","type","message","startTask","_this3","cid","prjid","dataprovide_task","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","staticStyle","width","attrs","border","prop","align","label","scopedSlots","_u","key","fn","scope","undefined","row","color","_e","provide_type","title","mid","on","click","$event","$index","show_size","cur","total_page","total_count","change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.6aec66e8872487d29580.js","sourcesContent":["<template>\n  <div class=\"main rule-group\">\n    <div class=\"main-table\">\n      <div class=\"table-msg\">\n        <div class=\"msg-left\">\n          <p>查询符合上述条件的数据<span>{{list.totalCount}}</span>条</p>\n        </div>\n      </div>\n      <el-table\n        :data=\"list.data\"\n        style=\"width: 100%\"\n        border>\n        <el-table-column\n          prop=\"cid\"\n          align=\"center\"\n          width=\"120\"\n          label=\"职场\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" style=\"color:#666666\" v-if=\"teamData[scope.row.cid] != undefined\">{{teamData[scope.row.cid]}}</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"prjid\"\n          align=\"center\"\n          width=\"120\"\n          label=\"项目\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" style=\"color:#666666\">{{pmemoData[scope.row.prjid]}}</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"provide_type\"\n          align=\"center\"\n          width=\"105\"\n          label=\"类型\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.provide_type === 1\">自动</span>\n            <span v-else-if=\"scope.row.provide_type === 2\">手动</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"mid\"\n          align=\"center\"\n          width=\"350\"\n          label=\"模型\">\n          <template slot-scope=\"scope\">\n            <el-button :title=\"modelData2[scope.row.mid]\" type=\"text\" size=\"mini\" style=\"color:#666666\">{{modelData2[scope.row.mid]}}</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"num\"\n          align=\"center\"\n          width=\"120\"\n          label=\"数量\">\n        </el-table-column>\n        <el-table-column\n          prop=\"dateline\"\n          align=\"center\"\n          width=\"166\"\n          label=\"时间\">\n        </el-table-column>\n        <el-table-column\n          prop=\"status\"\n          align=\"center\"\n          width=\"115\"\n          label=\"阻塞\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"danger\" size=\"mini\" @click=\"startTask(scope.$index, scope.row)\" v-if=\"scope.row.status === 2\">开启</el-button>\n            <span v-else-if=\"scope.row.status === 1\"></span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"remain_num\"\n          align=\"center\"\n          width=\"115\"\n          label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"danger\" size=\"mini\" @click=\"deleteTask(scope.$index, scope.row)\" v-if=\"scope.row.status === 2\">删除</el-button>\n            <span v-else-if=\"scope.row.status === 1\">正常</span>\n          </template>\n        </el-table-column>\n      </el-table>\n      <page-table show_size=\"true\" v-bind:cur=\"search.page\" v-bind:total_page=\"list.totalPage\" v-bind:total_count=\"list.totalCount\" @change=\"change_data\"></page-table>\n    </div>\n  </div>\n</template>\n\n<script>\n  import pageTable from '@/components/pager'\n  import ajax from '@/config/ajax'\n    export default {\n      name: \"task\",\n      data() {\n        return {\n          search: {\n            size: 20, // 每页数量\n            page: 1 // 页码\n          },\n          list:{\n            data:[],            //数据集\n            totalPage:0,        //总页数\n            totalCount:0,        //总条数\n            status: '',     //状态值\n          },\n          modelData2: [], //数据批次字典数组\n          teamData: [],  //外呼团队字典数组\n          projData: [],\n          pmemoData: []\n        }\n      },\n      components:{pageTable},\n      created() {\n        this.teamData = JSON.parse(localStorage.getItem(\"brand\"));\n        this.projData = JSON.parse(localStorage.getItem(\"pro\"));\n        this.modelData2 = JSON.parse(localStorage.getItem(\"curl\"));\n        this.pmemoData = JSON.parse(localStorage.getItem('pmemo'));\n        this.getTask();\n      },\n      methods: {\n        change_data (index, size) {\n          this.list.page = index;\n          this.list.size = size;\n          this.getTask();\n        },\n        // 获取初始化列表\n        getTask() {\n          var params = {\n            page:this.search.page,\n            size:this.search.size\n          }\n          return ajax.request({\n            methods: 'get',\n            url: 'provide/all',\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n            },\n            data:params\n          }).then((res) => {\n            this.list.data = res.data.list;\n            this.list.totalCount=res.data.totalCount;\n            this.list.totalPage=res.data.totalPage;\n            // console.log(res.data.list)\n          }).catch((error) => {\n            console.log(error)\n          });\n        },\n        // 删除\n        deleteTask(index, list) {\n          var params = {\n            id: list.id\n          }\n          return ajax.request({\n            method: 'post',\n            url: 'provide/delete',\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n            },\n            params: params\n          }).then((res) => {\n            // console.log(res);\n            this.$message({\n              type: 'success',\n              message: res.message\n            })\n            this.getTask();\n          }).catch((error) => {\n            console.log(error)\n          });\n        },\n        // 开启\n        startTask(index, list) {\n          var params = {\n            id: list.id,\n            cid: list.cid,\n            prjid: list.prjid\n          }\n          return ajax.request({\n            method: 'post',\n            url: 'provide/start',\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n            },\n            params: params\n          }).then((res) => {\n            // console.log(res);\n            this.$message({\n              type: 'success',\n              message: res.message\n            })\n            this.list.status = 1;\n            this.getTask();\n          }).catch((error) => {\n            console.log(error)\n          });\n        },\n      }\n    }\n</script>\n\n<style scoped>\n  @import '../../assets/css/pages/main.css';\n  .rule-group{\n    padding-left: 15px;\n  }\n  .rule-group .main-table table{\n    margin-bottom: 30px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/dataprovide/task.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main rule-group\"},[_c('div',{staticClass:\"main-table\"},[_c('div',{staticClass:\"table-msg\"},[_c('div',{staticClass:\"msg-left\"},[_c('p',[_vm._v(\"查询符合上述条件的数据\"),_c('span',[_vm._v(_vm._s(_vm.list.totalCount))]),_vm._v(\"条\")])])]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list.data,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"cid\",\"align\":\"center\",\"width\":\"120\",\"label\":\"职场\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.teamData[scope.row.cid] != undefined)?_c('el-button',{staticStyle:{\"color\":\"#666666\"},attrs:{\"type\":\"text\"}},[_vm._v(_vm._s(_vm.teamData[scope.row.cid]))]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"prjid\",\"align\":\"center\",\"width\":\"120\",\"label\":\"项目\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"#666666\"},attrs:{\"type\":\"text\"}},[_vm._v(_vm._s(_vm.pmemoData[scope.row.prjid]))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"provide_type\",\"align\":\"center\",\"width\":\"105\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.provide_type === 1)?_c('span',[_vm._v(\"自动\")]):(scope.row.provide_type === 2)?_c('span',[_vm._v(\"手动\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mid\",\"align\":\"center\",\"width\":\"350\",\"label\":\"模型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"#666666\"},attrs:{\"title\":_vm.modelData2[scope.row.mid],\"type\":\"text\",\"size\":\"mini\"}},[_vm._v(_vm._s(_vm.modelData2[scope.row.mid]))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"num\",\"align\":\"center\",\"width\":\"120\",\"label\":\"数量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dateline\",\"align\":\"center\",\"width\":\"166\",\"label\":\"时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"align\":\"center\",\"width\":\"115\",\"label\":\"阻塞\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === 2)?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.startTask(scope.$index, scope.row)}}},[_vm._v(\"开启\")]):(scope.row.status === 1)?_c('span'):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remain_num\",\"align\":\"center\",\"width\":\"115\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === 2)?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteTask(scope.$index, scope.row)}}},[_vm._v(\"删除\")]):(scope.row.status === 1)?_c('span',[_vm._v(\"正常\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('page-table',{attrs:{\"show_size\":\"true\",\"cur\":_vm.search.page,\"total_page\":_vm.list.totalPage,\"total_count\":_vm.list.totalCount},on:{\"change\":_vm.change_data}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ac5db4e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/dataprovide/task.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ac5db4e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./task.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./task.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./task.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ac5db4e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./task.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2ac5db4e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/dataprovide/task.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}